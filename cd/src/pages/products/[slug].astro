---
import Layout from "../../layouts/Layout.astro";

// Define your products data
const products = {
  "product-1": { name: "Product 1", description: "Description of Product 1" },
  "product-2": { name: "Product 2", description: "Description of Product 2" },
  "product-3": { name: "Product 3", description: "Description of Product 3" },
};

// Implement getStaticPaths
export async function getStaticPaths() {
  // Generate paths for each product slug
  const paths = Object.keys(products).map((slug) => ({
    params: { slug },
  }));

  return { paths };
}

// Extract the slug from Astro.params
const { slug } = Astro.params;
const product = products[slug];

if (!product) {
  throw new Error(`Product not found for slug: ${slug}`);
}

export const prerender = true;
---

<Layout>
  <h1>{product.name}</h1>
  <p>{product.description}</p>
  <a href="/products">Back to Products</a>
</Layout>
